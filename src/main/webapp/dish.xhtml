<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      lang="es" xml:lang="es">
<h:head>
    <title>Plato de Comida</title>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style type="text/css">
        /* === CSS embebido === */
        body {
            font-family: 'Montserrat', sans-serif;
            background: white;
            color: #2c3e50;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* ... (otros estilos se mantienen igual) ... */
    </style>
</h:head>

<h:body>
    <div class="container">
        <main>
            <div id="detalle-receta">
                <h:form id="searchForm">
                    <h:inputText id="inputBusqueda" value="#{recetaController.searchTerm}"
                                 styleClass="input-busqueda" placeholder="Buscar recetas..." />
                    <h:commandButton value="Buscar" action="#{recetaController.buscarRecetas}"
                                     styleClass="btn-buscar" />
                </h:form>

                <h1 id="titulo-receta" class="titulo-receta">#{recetaController.recetaSeleccionada.nombre}</h1>

                <div class="seccion nutricion">
                    <h:graphicImage library="images" name="#{recetaController.recetaSeleccionada.imagen}"
                                    alt="#{recetaController.recetaSeleccionada.nombre}"
                                    styleClass="imagen-centrada" />

                    <p class="porcion">1 porción (#{recetaController.recetaSeleccionada.peso}g)</p>

                    <h2>Información Nutricional</h2>

                    <div class="valores-nutricionales">
                        <div class="valor-nutricional">
                            <span class="cantidad">#{recetaController.recetaSeleccionada.calorias}</span>
                            <span class="nutriente"> &#x1F525; Calorías</span>
                        </div>
                        <div class="valor-nutricional">
                            <span class="cantidad">#{recetaController.recetaSeleccionada.proteinas}g</span>
                            <span class="nutriente"> &#x1F357; Proteínas</span>
                        </div>
                        <div class="valor-nutricional">
                            <span class="cantidad">#{recetaController.recetaSeleccionada.carbohidratos}g</span>
                            <span class="nutriente">&#x1F954; Carbohidratos</span>
                        </div>
                    </div>

                    <div class="tabla-porcion">
                        <h:dataTable value="#{recetaController.recetaSeleccionada.ingredientes}" var="ingrediente"
                                     styleClass="tabla-ingredientes">
                            <h:column>
                                #{ingrediente.nombre}
                            </h:column>
                            <h:column>
                                #{ingrediente.cantidad}g
                            </h:column>
                        </h:dataTable>

                        <div class="registro-alimento">
                            <p>Registrar este alimento en KawsayFit</p>
                        </div>

                        <div class="botones-container">
                            <h:button value="Volver" outcome="home" styleClass="btn-volver" />
                            <h:commandButton value="Registrar" action="#{registroController.registrarReceta}"
                                             styleClass="btn-registrar" />
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</h:body>
</html>