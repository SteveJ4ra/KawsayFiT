<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      lang="es" xml:lang="es">
<h:head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recuperar Contraseña</title>
    <style type="text/css">
        /* ... (todos los estilos CSS se mantienen igual) ... */
    </style>
</h:head>

<h:body>
    <div class="auth-container">
        <div class="auth-card">
            <h1 class="auth-title">Recuperar Contraseña</h1>
            <p class="auth-subtitle">Ingresa tu correo electrónico para recibir un código de verificación</p>

            <h:form id="recoveryForm" styleClass="auth-form">
                <h:messages globalOnly="true" styleClass="error-message" />

                <div class="form-group">
                    <h:outputLabel for="email" value="Correo Electrónico" />
                    <h:inputText id="email" value="#{passwordRecoveryController.email}"
                                 required="true" requiredMessage="El correo es obligatorio"
                                 validatorMessage="Correo electrónico inválido">
                        <f:validateRegex pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" />
                    </h:inputText>
                    <h:message for="email" styleClass="error-message" />
                </div>

                <h:commandButton value="Enviar Código" action="#{passwordRecoveryController.enviarCodigo}"
                                 styleClass="auth-button" />
            </h:form>

            <div class="auth-footer">
                <p>¿Recuerdas tu contraseña? <h:link value="Inicia sesión" outcome="iniciar-sesion" /></p>
            </div>
        </div>
    </div>

    <!-- Modal de confirmación -->
    <h:panelGroup rendered="#{passwordRecoveryController.mostrarModal}">
        <div class="modal">
            <div class="modal-content">
                <h:commandLink value="×" styleClass="close-btn"
                               action="#{passwordRecoveryController.ocultarModal}" immediate="true" />
                <h2>Código Enviado</h2>
                <p>Hemos enviado un código de verificación a tu correo electrónico</p>
                <h:button value="Continuar" outcome="reset-password" styleClass="auth-button" />
            </div>
        </div>
    </h:panelGroup>
</h:body>
</html>